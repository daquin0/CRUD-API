<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" type="text/css" href="estilo.css">
    <title>Clientes</title>
</head>
<body>
       
    <div class="topnav" id="myTopnav">
        <a href="/">Ventas</a>
        <a href="/libros" class="active">libros</a>
        <a href="/clientes">Clientes</a>
        <a href="javascript:void(0);" class="icon" onclick="myFunction()">
        </a>
    </div>
    <br>
     <h1 style="text-align: center;">Tabla libros</h1>
    <div class="container">
        <div style="float: right;">
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#agregarlibro">Agregar libro</button>
    </div>
        <table class="table table-hover">
            <thead>
                   <tr>
                    <th>ID</th>
                    <th>Titulo</th>
                    <th>Autor</th>
                    <th>Editorial</th>
                    <th>Lugar de publicacion</th>
                    <th>Precio</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
            {{#each libros}}
                <tr>
                    <td>{{this.id_libro}}</td>
                    <td>{{this.titulo}}</td>
                    <td>{{this.autor}}</td>
                    <td>{{this.editorial}}</td>
                    <td>{{this.lugar_publicacion}}</td>
                    <td>{{this.precio}}</td>
                    <td>
                        <a href="/borrar-libro/{{id_libro}}" type="button" class="btn " style="background-color:#d3becd">Eliminar</a>
                         <button class="btn" style="background-color:#7FB3D5 " onclick="editarlibro('{{ this.titulo }}' , '{{ this.autor }}' , '{{ this.editorial }}' , '{{ this.lugar_publicacion }}', '{{ this.precio }}' , '{{this.id_libro}}')">Editar</button>
                    </td>
                </tr>
                {{/each }}
            </tbody>
        </table>
    </div>
    <div class="modal fade bd-example-modal-lg" id="agregarlibro" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-body">
            <form action="/agregar-libro" method="POST">
                    <div class="form-group">
                        <label for="titulo">Titulo</label>
                        <input type="text" class="form-control" name="titulo" id="titulo">
                    </div>
                    <div class="form-group">
                        <label for="autor">Autor</label>
                        <input type="text" class="form-control" name="autor" id="autor">
                    </div>
                    <div class="form-group">
                        <label for="editorial">Editorial</label>
                        <input type="text" class="form-control" name="editorial" id="editorial">
                    </div>
                    <div class="form-group">
                        <label for="lugar_publicacion">lugar publicacion</label>
                        <input type="text" class="form-control" name="lugar_publicacion" id="lugar_publicacion">
                    </div>
                    <div class="form-group">
                        <label for="precio">Precio</label>
                        <input type="text" class="form-control" name="precio" id="precio">
                    </div>
                    <br>
                    <button type="submit" class="btn " style="background-color:#d3becd">Agregar libro</button>
                </form>
                </div>
        </div>
    </div>
</div>
<div class="modal fade" id="editarlibro" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Agregar cliente</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form action="/editar-libro/libro" method="post" id="editarlibro_Form">
                    <input type="hidden" name="hidden_id" id="hidden_id">     
                    <div class="form-group">
                        <label for="titulo">Titulo</label>
                        <input type="text" class="form-control" name="titulo_new" id="titulo_new" >
                    </div>
                    <div class="form-group">
                        <label for="autor">Autor</label>
                        <input type="text" class="form-control" name="autor_new" id="autor_new" >
                    </div>
                    <div class="form-group">
                        <label for="editorial">Editorial</label>
                        <input type="text" class="form-control" name="editorial_new" id="editorial_new" >
                    </div>
                    <div class="form-group">
                        <label for="lugar_publicacion">Lugar de publicacion</label>
                        <input type="text" class="form-control" name="lugar_publicacion_new" id="lugar_publicacion_new" >
                    </div>   
                    <div class="form-group">
                        <label for="precio">Precio</label>
                        <input type="text" class="form-control" name="precio_new" id="precio_new" >
                    </div>   
                </form>
            </div>
            <div class="modal-footer">
                <!--<button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancelar</button>-->
                <button type="button" class="btn " style="background-color:#d3becd" onclick="document.getElementById('editarlibro_Form').submit()">Editar libro</button>
            </div>
            </div>
        </div>
    </div>
    <h2 style="text-align: center;">Ubicaci√≥n de la libreria "La cultura"</h2>
     <div id="map"></div>
    </body>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script>
    function editarlibro(titulo, autor, editorial, lugar_publicacion,precio, id){
        document.getElementById("titulo_new").value = titulo;
        document.getElementById("autor_new").value = autor;
        document.getElementById("editorial_new").value = editorial;
        document.getElementById("lugar_publicacion_new").value = lugar_publicacion;
        document.getElementById("precio_new").value = precio;
        document.getElementById("hidden_id").value = id;
        $("#editarlibro").modal("show");
    }
</script>
    <script src="script.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBDaeWicvigtP9xPv919E-RNoxfvC-Hqik&callback=iniciarMap"></script>

</html>